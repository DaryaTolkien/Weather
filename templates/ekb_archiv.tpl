<h2>Екатеринбург</h2>

<table style="border: 3px solid #004489; width: 99%;" border="1">
   <tr>
    <th>Год</th>
    <th>Янв</th>
    <th>Фев</th>
    <th>Мар</th>
	<th>Апр</th>
    <th>Май</th>
	<th>Июн</th>
	<th>Июл</th>
    <th>Авг</th>
    <th>Сен</th>
	<th>Окт</th>
    <th>Ноя</th>
    <th>Дек</th>
	<th>Сред</th>
   </tr>
	{{TABLE}}
	{{NORMA}}
	<tr class="norma_earth">
	<td>Норма:</td>
	<td>-12.6</td>
	<td>-11.1</td>
	<td>-3.8</td>
	<td>4.3</td>
	<td>11.3</td>
	<td>17.1</td>
	<td>19</td>
	<td>15.9</td>
	<td>9.8</td>
	<td>3.5</td>
	<td>-5.8</td>
	<td>-11</td>
	<td>1.9</td>
	</tr>
</table>

<table border="1" style="margin-top: 50px; border: 3px solid #004489; width: 99%;">
	<caption>Экстремумы за зиму</caption>
<tr>
    <th>Год</th>
    <th>2006</th>
    <th>2007</th>
    <th>2008</th>
	<th>2009</th>
    <th>2010</th>
	<th>2011</th>
	<th>2012</th>
    <th>2013</th>
    <th>2014</th>
	<th>2015</th>
    <th>2016</th>
    <th>2017</th>
	<th>2018</th>
</tr>
<tr style="background-color:dodgerblue; font-size: 24px;">
	<td>Экстремум</td>
	{{EXTR}}
</tr>
</table>

<div class="statitistica">

<table border="1" style="margin-top: 50px; border: 3px solid #004489; width: 48%;">
	 <caption>Статистика самых холодных и теплых месяцев</caption>
<tr>
	<th>&nbsp;</th>
	<th class="hot">Теплый</th>
	<th>Год</th>
	<th class="cool">Холодный</th>
	<th>Год</th>
</tr>
<tr>
    <td>Январь</td>
	<td class="hot">-5</td>
	<td>2007</td>
	<td class="cool">-20.6</td>
	<td>2006</td>
</tr>
<tr>
    <td>Февраль</td>
	<td class="hot">-4.1</td>
	<td>2016</td>
	<td class="cool">-15.7</td>
	<td>2010</td>
</tr>
<tr>
    <td>Март</td>
	<td class="hot">-1.3</td>
	<td>2014</td>
	<td class="cool">-7.7</td>
	<td>2013</td>
</tr>
<tr>
    <td>Апрель</td>
	<td class="hot">8.0</td>
	<td>2012</td>
	<td class="cool">2.1</td>
	<td>2009</td>
</tr>
<tr>
    <td>Май</td>
	<td class="hot">14.5</td>
	<td>2014</td>
	<td class="cool">9.6</td>
	<td>2018</td>
</tr>
<tr>
    <td>Июнь</td>
	<td class="hot">20.1</td>
	<td>2012</td>
	<td class="cool">13.9</td>
	<td>2007</td>
</tr>
<tr>
    <td>Июль</td>
	<td class="hot">21.8</td>
	<td>2012</td>
	<td class="cool">14.4</td>
	<td>2014</td>
</tr>
<tr>
    <td>Август</td>
	<td class="hot">23</td>
	<td>2016</td>
	<td class="cool">13.2</td>
	<td>2015</td>
</tr>
<tr>
    <td>Сентябрь</td>
	<td class="hot">12.6</td>
	<td>2011</td>
	<td class="cool">7.8</td>
	<td>2008</td>
</tr>
<tr>
    <td>Октябрь</td>
	<td class="hot">6.2</td>
	<td>2008</td>
	<td class="cool">-1.5</td>
	<td>2014</td>
</tr>
<tr>
    <td>Ноябрь</td>
	<td class="hot">1.8</td>
	<td>2013</td>
	<td class="cool">-10.5</td>
	<td>2016</td>
</tr>
<tr>
    <td>Декабрь</td>
	<td class="hot">-5.5</td>
	<td>2006</td>
	<td class="cool">-15.4</td>
	<td>2009</td>
</tr>
</table>

	
<table border="1" style="margin-top: 50px; border: 3px solid #004489; width: 50%;">
<caption>Статистика самых холодных и теплых времен года</caption>
<tr>
	<th>&nbsp;</th>
	<th class="hot">Теплый</th>
	<th>Год</th>
	<th class="cool">Холодный</th>
	<th>Год</th>
</tr>
<tr>
    <td>Зима</td>
	<td class="hot">-8.5</td>
	<td>2006-2007</td>
	<td class="cool">-17.2</td>
	<td>2009-2010</td>
</tr>
<tr>
    <td>Весна</td>
	<td class="hot">5.9</td>
	<td>2012</td>
	<td class="cool">3.1</td>
	<td>2013</td>
</tr>
<tr>
    <td>Лето</td>
	<td class="hot">20.2</td>
	<td>2016</td>
	<td class="cool">15.9</td>
	<td>2014</td>
</tr>
<tr>
    <td>Осень</td>
	<td class="hot">5</td>
	<td>2008</td>
	<td class="cool">0.4</td>
	<td>2016</td>
</tr>
</table>
	
</div>

<script>
   $('#submit_form').on('click', function(){
        var month = $('#month').val();
	    var earth = $('#earth').val();
        var update_stat = $('#update_stat').val();
        $.ajax({
            url: "/ekb_archiv/",
            type: "POST",
            data:{
                'month': month,
				'earth': earth,
				'update_stat': update_stat
            },
			success: function (html) {
            //AjaxFormRequest();
     },
            error: function(xhr, status, error) {
                alert(xhr.responseText + '|\n' + status + '|\n' +error);
              }
          })
    });
	
function AjaxFormRequest(){
		$.ajax({
            url: "/ekb_archiv/",
            type: "POST",
            data: {
                submits: submits,
            },
			success: function() { //Если все нормально
				$("#stat").empty();
                $("#stat").append(html);
                alert('Load was performed.');
                },
			error: function(xhr, status, error) {
                alert(xhr.responseText + '|\n' + status + '|\n' +error);
              }
	})};
</script>

<script>
var arr_class = ['cool','hot','norma'];

function table_colorize(elements, array_class, lol)
{
  elements.each(function(i, j){
        
        var  num = i.innerText || i.textContent;
      
        var  $class;
        if(num > lol) 
             $class = array_class[1];
        if(num < lol)
             $class = array_class[0];
        if(num == lol)
             $class = array_class[2];
          
         i.addClassName($class);
    
  });

};
var a = $$('table td.a');
var b = $$('table td.b');
var c = $$('table td.c');
var d = $$('table td.d');
var e = $$('table td.e');
var f = $$('table td.f');
var g = $$('table td.g');
var h = $$('table td.h');
var i = $$('table td.i');
var j = $$('table td.j');
var k = $$('table td.k');
var l = $$('table td.l');

table_colorize(a, arr_class, -12.6);
table_colorize(b, arr_class, -11.1);
table_colorize(c, arr_class, -3.8);
table_colorize(d, arr_class, 4.3);
table_colorize(e, arr_class, 11.3);
table_colorize(f, arr_class, 17.1);
table_colorize(g, arr_class, 19);
table_colorize(h, arr_class, 15.9);
table_colorize(i, arr_class, 9.8);
table_colorize(j, arr_class, 3.5);
table_colorize(k, arr_class, -5.8);
table_colorize(l, arr_class, -11);
</script>


































